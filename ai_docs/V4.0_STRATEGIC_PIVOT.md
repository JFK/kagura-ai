# Kagura AI v4.0 - Strategic Pivot: Universal AI Memory Platform

**æ—¥ä»˜**: 2025-10-25ï¼ˆæ›´æ–°: ãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«å¯¾å¿œè¿½åŠ ï¼‰
**ä½œæˆ**: Claude Code + ChatGPT 5 Pro ã‚¢ã‚¤ãƒ‡ã‚¢çµ±åˆ
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: æˆ¦ç•¥ææ¡ˆï¼ˆCommunity Feedback Welcomeï¼‰

---

## ğŸ“‹ ã‚¨ã‚°ã‚¼ã‚¯ãƒ†ã‚£ãƒ–ãƒ»ã‚µãƒãƒª

### PIVOTã®æ ¸å¿ƒ

**v3.0ï¼ˆç¾åœ¨ï¼‰**: Python-First AI Agent SDK + Chat
**v4.0ï¼ˆææ¡ˆï¼‰**: **Universal AI Memory & Context Platform (MCP-native + Multimodal)**

```
å¾“æ¥: å„AIãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ãŒå€‹åˆ¥ã«è¨˜æ†¶ã‚’ä¿æŒ
      â†“
èª²é¡Œ: ChatGPTã€Claudeã€Geminié–“ã§è¨˜æ†¶ãŒåˆ†æ–­
      ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å¤‰æ›´ï¼è¨˜æ†¶ãƒªã‚»ãƒƒãƒˆ
      â†“
è§£æ±º: Kagura = æ¨ªæ–­çš„ãªãƒ¡ãƒ¢ãƒªãƒ¼å±¤
      ã™ã¹ã¦ã®AIãŒåŒã˜ã€Œã‚ãªãŸã€ã‚’å‚ç…§
```

**ã‚­ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**:
> **Own your memory. Bring it to every AI.**
> Kagura: A portable, privacy-first **Context & Memory Hub** for all your agents.

**v4.0+ã®æ‹¡å¼µ**: ğŸ†• **Multimodal Memory**
- ãƒ†ã‚­ã‚¹ãƒˆã ã‘ã§ãªãã€**ç”»åƒãƒ»éŸ³å£°ãƒ»å‹•ç”»ãƒ»PDFãƒ»ã‚³ãƒ¼ãƒ‰**ã‚‚çµ±ä¸€çš„ã«è¨˜æ†¶ãƒ»æ¤œç´¢
- ã€Œå»å¹´ã®è¨­è¨ˆå›³ã®ã‚¹ã‚¯ã‚·ãƒ§ã€ã€Œã“ã®ã‚³ãƒ¼ãƒ‰ã«é–¢ã™ã‚‹è­°äº‹éŒ²ã€ãªã©ã€**ã‚¯ãƒ­ã‚¹ãƒ¢ãƒ¼ãƒ€ãƒ«æ¤œç´¢**
- é–‹ç™ºè€…ã®**å…¨äº¤æµçµŒé¨“**ï¼ˆVibe Codingï¼‰ã‚’è¨˜éŒ²: ã‚³ãƒ¼ãƒ‰ + ã‚¹ã‚¯ã‚·ãƒ§ + éŸ³å£°ãƒ¡ãƒ¢ + å‹•ç”»

---

## ğŸ¯ æˆ¦ç•¥ã®4æœ¬æŸ±

### 1. Memory-First Architecture

**Core Value**: ãƒ¡ãƒ¢ãƒªãƒ¼ãƒ»ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç®¡ç†ã«ç‰¹åŒ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AI Platforms (via MCP)                 â”‚
â”‚  Claude, ChatGPT, Gemini, Cursor, ...   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†• MCP Protocol
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Kagura Memory Hub (Core)               â”‚
â”‚  - Memory Manager (3-tier + Graph)      â”‚
â”‚  - RAG (Knowledge Base)                 â”‚
â”‚  - History Tracker (Vibe Coding)        â”‚
â”‚  - API Server (REST/GraphQL)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†• Storage
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SQLite + ChromaDB + NetworkX           â”‚
â”‚  pgvector (Cloud/Self-hosted)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ©Ÿèƒ½ã®å„ªå…ˆé †ä½**:
- ğŸ¯ **Core (v4.0)**: Text Memory API (MCP + REST) + Graph
- ğŸ”§ **v4.1 MVP**: **Multimodal Attachments** (ç”»åƒ/éŸ³å£°/PDF) + æ´¾ç”Ÿãƒ†ã‚­ã‚¹ãƒˆæ¤œç´¢
- ğŸš€ **v4.2 Full**: **Cross-modal Search** (Image/Audio Embedding)
- ğŸ”§ **Optional**: MCP Tools (Web search, YouTube, Files)
- ğŸ§ª **Minimal**: Chat CLI (MCP testing only)
- âŒ **Remove**: Personal tools (news, weather, recipes), SDK-focused examples

### 2. MCP-Native Design

**MCPãƒ„ãƒ¼ãƒ«ï¼ˆæœ€å°å¥‘ç´„ v1ï¼‰**:
```python
# Memory Management
memory.store(text, kind, source, meta)
memory.recall(cue_text, k, include_graph_hops)
memory.search(query, filter)
memory.feedback(node_id, label, weight)
memory.delete(node_id)

# Graph Operations (#345)
memory.link(src_id, dst_id, rel, weight)
memory.query_graph(seed_ids, hops, rel_filters)
memory.record_interaction(...)

# System
memory.metrics()
memory.export()
memory.import()
```

**æ—¢å­˜Issueã¨ã®æ•´åˆ**:
- **#331**: MCP Enhancement Roadmap - ãƒ„ãƒ¼ãƒ«ç®¡ç†ã€Claude Desktopçµ±åˆè‡ªå‹•åŒ–
- **#345**: GraphDB Memory - user/topic/memory/interaction nodes + edges

### 3. Multimodal Memoryï¼ˆæ®µéšçš„å°å…¥ï¼‰

**v4.0ï¼ˆText Foundationï¼‰**:
- Text memory + Graph
- MCP toolsï¼ˆtext onlyï¼‰
- Export/Importï¼ˆtextï¼‰

**v4.1ï¼ˆMultimodal MVPï¼‰**:
- **Attachments**: ç”»åƒã€éŸ³å£°ã€PDFã€ã‚³ãƒ¼ãƒ‰
- **æ´¾ç”Ÿãƒ†ã‚­ã‚¹ãƒˆ**: Caption/OCR/ASR â†’ TextåŒ–
- **Text-basedæ¤œç´¢**: æ´¾ç”Ÿãƒ†ã‚­ã‚¹ãƒˆçµŒç”±ã§ç”»åƒãƒ»éŸ³å£°ã‚‚æ¤œç´¢å¯èƒ½
- **Consumer App**: Quick Captureï¼ˆcamera, mic, filesï¼‰

**v4.2ï¼ˆFull Multimodalï¼‰**:
- **Image/Audio Embedding**: CLIPã€Whisperç­‰
- **Cross-modal Search**: textâ†’image, imageâ†’text
- **Video Support**: Keyframe extraction, transcription
- **Advanced Analytics**: Per-modality insights

### 4. 3å±¤ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆæˆ¦ç•¥

| ãƒ‡ãƒ—ãƒ­ã‚¤å½¢æ…‹ | ã‚¿ã‚¤ãƒŸãƒ³ã‚° | ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ | ç‰¹å¾´ |
|------------|----------|-----------|------|
| **Local** | v4.0 (Now) | å€‹äººé–‹ç™ºè€… | Docker Compose, å®Œå…¨ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ |
| **Self-hosted API** | v4.1 (3-4M) | å°è¦æ¨¡ãƒãƒ¼ãƒ  | API Server, ãƒ‡ãƒã‚¤ã‚¹é–“åŒæœŸ, **Multimodal** |
| **Kagura Cloud** | v4.2+ (6-12M) | ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚º | SaaS, BYOK, RLS, ç›£æŸ»ãƒ­ã‚°, **Full Multimodal** |

---

## ğŸ¨ ãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«æˆ¦ç•¥ï¼ˆè©³ç´°ï¼‰

### ãªãœãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«ã‹

**é–‹ç™ºè€…ã®å…¸å‹çš„ãª1æ—¥**:
```
æœ: è¨­è¨ˆå›³ã‚’ã‚¹ã‚¯ã‚·ãƒ§ â†’ Claudeã«è³ªå•
æ˜¼: ä¼šè­°ã‚’éŸ³å£°éŒ²éŸ³ â†’ è­°äº‹éŒ²ã¨ã—ã¦ä¿å­˜
åˆå¾Œ: ã‚¨ãƒ©ãƒ¼ç”»é¢ã‚­ãƒ£ãƒ—ãƒãƒ£ â†’ è§£æ±ºç­–ã‚’æ¤œç´¢
å¤•: ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«å‹•ç”»è¦–è´ â†’ ãƒ¡ãƒ¢ã¨ã—ã¦è¨˜éŒ²
å¤œ: ã‚³ãƒ¼ãƒ‰ + PRãƒ¬ãƒ“ãƒ¥ãƒ¼ â†’ GitHubã¨é€£æº
```

**ç¾çŠ¶ã®å•é¡Œ**:
- ã“ã‚Œã‚‰ã¯**åˆ¥ã€…ã®ãƒ„ãƒ¼ãƒ«**ã§ç®¡ç†
- **æ¨ªæ–­æ¤œç´¢ä¸å¯**: ã€Œã‚ã®ã‚¹ã‚¯ã‚·ãƒ§ã«é–¢é€£ã™ã‚‹è­°äº‹éŒ²ã¯ï¼Ÿã€
- **AIãŒå‚ç…§ã§ããªã„**: å„AIã¯ç”»åƒãƒ»éŸ³å£°ã‚’è¨˜æ†¶ã«æ´»ç”¨ã§ããªã„

**Kaguraã®è§£æ±º**:
- ã™ã¹ã¦ã‚’**çµ±ä¸€ãƒ¡ãƒ¢ãƒªãƒ¼**ã«ä¿å­˜
- **ã‚¯ãƒ­ã‚¹ãƒ¢ãƒ¼ãƒ€ãƒ«æ¤œç´¢**: ãƒ†ã‚­ã‚¹ãƒˆã§ç”»åƒã‚’ã€ç”»åƒã§ãƒ†ã‚­ã‚¹ãƒˆã‚’
- **AIæ¨ªæ–­å‚ç…§**: ã©ã®AIã‚‚åŒã˜ç”»åƒãƒ»éŸ³å£°ã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆæ‹¡å¼µç‰ˆï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AI Platforms + Consumer Apps           â”‚
â”‚  Claude, ChatGPT, Gemini, Mobile App    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†• MCP + REST API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Kagura Memory Hub                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Memory Manager                  â”‚   â”‚
â”‚  â”‚  - Text nodes                   â”‚   â”‚
â”‚  â”‚  - Attachment nodes (v4.1+) ğŸ†•  â”‚   â”‚
â”‚  â”‚  - Derived text nodes ğŸ†•        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Search Engine                   â”‚   â”‚
â”‚  â”‚  - Text embedding (ChromaDB)    â”‚   â”‚
â”‚  â”‚  - Image embedding (v4.2+) ğŸ†•   â”‚   â”‚
â”‚  â”‚  - Audio embedding (v4.2+) ğŸ†•   â”‚   â”‚
â”‚  â”‚  - Cross-modal fusion ğŸ†•        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Worker Pipeline (v4.1+) ğŸ†•      â”‚   â”‚
â”‚  â”‚  - Caption generation           â”‚   â”‚
â”‚  â”‚  - OCR (Tesseract/Cloud)        â”‚   â”‚
â”‚  â”‚  - ASR (Whisper/Cloud)          â”‚   â”‚
â”‚  â”‚  - Thumbnail generation         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†• Storage
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Database (Postgres/SQLite)             â”‚
â”‚  - nodes (memoryæœ¬ä½“)                   â”‚
â”‚  - attachments (v4.1+) ğŸ†•               â”‚
â”‚    - id, modality, mime, bytes, url     â”‚
â”‚  - derived_texts (v4.1+) ğŸ†•             â”‚
â”‚    - id, source (caption/ocr/asr), text â”‚
â”‚  - embeddings (Multi-Vector) ğŸ†•         â”‚
â”‚    - id, modality, vector, weight       â”‚
â”‚  - edges (graph relationships)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### MCPãƒ„ãƒ¼ãƒ«æ‹¡å¼µï¼ˆv4.1+ï¼‰

```python
# v4.1: Multimodal MVP
memory.attach(node_id, file, modality, meta)
  # modality: image/audio/video/pdf/code
  # Auto-triggers: caption/ocr/asr worker

memory.derive(node_id, ops: ["caption", "ocr", "asr"])
  # On-demandæ´¾ç”Ÿãƒ†ã‚­ã‚¹ãƒˆç”Ÿæˆ

memory.recall(query, modalities: ["text", "image", "audio"])
  # Multi-modal recall
  # Returns: nodes with attachments + derived texts

# v4.2: Full Multimodal
memory.recall_multimodal(cue: {text, image_ref, audio_ref}, k)
  # Cross-modal search
  # textâ†’image, imageâ†’text, etc.

memory.search_by_image(image_ref, k)
  # Image similarity search

memory.search_by_audio(audio_ref, k)
  # Audio similarity search
```

### ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ï¼ˆv4.1 MVPï¼‰

```
1. Upload Image
   â†“
2. Store in attachments table
   â†“
3. Queue worker job
   â†“
4. Worker generates:
   - Caption (BLIP/GPT-4V)
   - OCR (Tesseract/Cloud Vision)
   - Thumbnail
   â†“
5. Store in derived_texts
   â†“
6. Generate text embedding
   â†“
7. Update search index
   â†“
8. Textæ¤œç´¢ã§ç”»åƒã‚‚è¦‹ã¤ã‹ã‚‹ï¼
```

**Example**:
```
User uploads: error_screen.png
â†“
Caption: "Web application error page showing 500 Internal Server Error with stack trace"
OCR: "Error 500\nInternal Server Error\nTraceback (most recent call last):\n  File api.py, line 42..."
â†“
Later:
User searches: "500 error last week"
â†’ error_screen.png ãŒæ¤œç´¢çµæœã«ï¼
```

### ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ï¼ˆv4.2 Fullï¼‰

```
1. Upload Image
   â†“
2. Worker generates:
   - Caption â†’ Text embedding
   - Image embedding (CLIP) ğŸ†•
   â†“
3. Storeä¸¡æ–¹ã®embedding
   â†“
4. Cross-modal searchå¯èƒ½:
   - Text query â†’ Image embeddingç©ºé–“ã‚‚æ¤œç´¢
   - Image query â†’ Text embeddingç©ºé–“ã‚‚æ¤œç´¢
```

### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

**v4.1ï¼ˆMVPï¼‰**:
- **Caption**: BLIP-2 or GPT-4V API
- **OCR**: Tesseract (local) or Google Cloud Vision API
- **ASR**: Whisper (local) or Cloud Speech-to-Text
- **Storage**: S3-compatible (MinIO/S3/R2)
- **Queue**: Redis + RQ
- **Text Embedding**: æ—¢å­˜ï¼ˆChromaDBï¼‰

**v4.2ï¼ˆFullï¼‰**:
- **Image Embedding**: CLIP / SigLIP
- **Audio Embedding**: Wav2Vec2 or Audio-CLIP
- **Cross-modal Fusion**: Late fusion with learned weights
- **Vector DB**: pgvector (multi-modal support)

### ç«¶åˆå„ªä½æ€§ï¼ˆæ›´æ–°ï¼‰

| Feature | Mem0 | Rewind AI | **Kagura v4.2** |
|---------|------|-----------|-----------------|
| **Text** | âœ… | âŒ | âœ… |
| **Image** | âŒ | âœ… Screen | âœ… Any image |
| **Audio** | âŒ | âœ… Record | âœ… Any audio |
| **Video** | âŒ | âŒ | âœ… v4.2 |
| **PDF/Code** | âŒ | âŒ | âœ… |
| **Cross-modal** | âŒ | âŒ | âœ… textâ†”image |
| **MCP** | âœ… | âŒ | âœ… |
| **Local** | âŒ | âœ… Mac | âœ… All platforms |
| **Price** | Custom | $19/month | Free/Premium |

**Kaguraã®ç‹¬è‡ªä¾¡å€¤ï¼ˆæ›´æ–°ï¼‰**:
1. âœ… **Universal Memory** + **Multimodal**
2. âœ… **Vibe Codingç‰¹åŒ–**: ã‚³ãƒ¼ãƒ‰ + ã‚¹ã‚¯ã‚·ãƒ§ + éŸ³å£° + å‹•ç”»
3. âœ… **Cross-modal Search**: Rewind AIã‚’è¶…ãˆã‚‹
4. âœ… **MCP-native**: å…¨AIãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å¯¾å¿œ
5. âœ… **Open Source + All platforms**: Linux/Windows/Mac/iOS/Android

---

## ğŸ’¡ çµ±åˆã‚¢ã‚¤ãƒ‡ã‚¢: ChatGPT 5 Proææ¡ˆ

### ææ¡ˆã•ã‚ŒãŸæ–°ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚   MCP Clients        â”‚  Claude Desktop / ChatGPT Plugins /
                 â”‚  (Agents & IDEs)     â”‚  Cline / Custom Agents / Apps
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚  (MCP)
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚   Kagura Memory Hub (MCP Server) â”‚
                   â”‚   - memory.* tools               â”‚
                   â”‚   - auth / quota / audit         â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚             â”‚
                   (REST/OpenAPI)   (SDK: Python/TS)
                           â”‚             â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚        Memory Services (Microservices)            â”‚
         â”‚  â€¢ Vector Recall (pgvector / FAISS)               â”‚
         â”‚  â€¢ GraphMemory (relations & interactions)         â”‚
         â”‚  â€¢ Consolidation / Summarization Jobs             â”‚
         â”‚  â€¢ Feedback / Trust & Importance                  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚                   â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  Storage       â”‚    â”‚  Connectors   â”‚ GitHub/Calendar/Files/
              â”‚  â€¢ Postgres+   â”‚    â”‚  â€¢ Ingest     â”‚ Slack/Notion/etc.
              â”‚    pgvector    â”‚    â”‚  â€¢ Schedulers â”‚
              â”‚  â€¢ Graph (SQL  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚    or GDB)     â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Key Points**:
- REST/OpenAPI + MCP + SDK ã®3å±¤API
- Microservicesæ§‹æˆï¼ˆVector/Graph/Consolidation/Connectorsï¼‰
- Local/Cloud/Hybridã®çµ±ä¸€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹

### ææ¡ˆã•ã‚ŒãŸMCPãƒ„ãƒ¼ãƒ«è©³ç´°

```python
# Storage
memory.store(text, kind, source, meta)
  # kind: note/code/conversation/document
  # source: github/slack/manual/claude
  # meta: {tags, timestamp, importance}

# Retrieval
memory.recall(cue_text|embedding, k, include_graph_hops)
  # Hybrid: Vector similarity + Graph traversal
  # Returns: nodes + relations + confidence

memory.search(query, filter)
  # Full-text + Semantic search
  # filter: {kind, source, date_range, tags}

# Feedback Loop
memory.feedback(node_id, label, weight)
  # label: useful/irrelevant/outdated
  # weight: -1.0 to 1.0
  # â†’ Hebbian learning, importance scoring

# Graph Operations
memory.link(src_id, dst_id, rel, weight)
  # rel: related_to/depends_on/learned_from/influences

memory.query_graph(seed_ids, hops, rel_filters)
  # Multi-hop graph traversal
  # Returns: subgraph with paths

memory.record_interaction(user_id, ai_platform, query, response, meta)
  # Track "Vibe Coding" history
  # Build interaction graph over time

# Maintenance
memory.consolidate()
  # Short-term â†’ Long-term
  # Summarization, deduplication
  # Hebbian weight updates

memory.metrics()
  # Storage usage, recall metrics, graph stats

memory.export() / memory.import()
  # JSONL + attachments format
  # Complete data portability
```

### ææ¡ˆã•ã‚ŒãŸREADMEéª¨å­

```markdown
# Kagura Memory Hub â€” Own your memory. Bring it to every AI.

**Kagura** ã¯ã€ã‚ãªãŸã®**ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã¨è¨˜æ†¶**ã‚’ã€Claude/ChatGPT/Gemini/å„ç¨®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‹ã‚‰**æ¨ªæ–­å‚ç…§**ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã€ã‚ªãƒ¼ãƒ—ãƒ³ãª **MCPå¯¾å¿œãƒ¡ãƒ¢ãƒªåŸºç›¤**ã§ã™ã€‚

## âœ¨ What is Kagura?
- **Portable memory:** AIæ¨ªæ–­ã§ä½¿ãˆã‚‹å€‹äººãƒ»çµ„ç¹”ã®ã€ŒçŸ¥è­˜ãƒ»æ–‡è„ˆãƒ»äº¤æµçµŒé¨“ã€ã®ãƒãƒ–
- **MCP-first:** Claude Desktopç­‰ã®MCPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«**ãã®ã¾ã¾**æ¥ç¶š
- **Privacy-first:** ãƒ­ãƒ¼ã‚«ãƒ«/ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒˆ/ã‚¯ãƒ©ã‚¦ãƒ‰ï¼ˆBYOK, RLS, ç›£æŸ»ï¼‰ã‚’é¸æŠå¯èƒ½

## ğŸ§© Key Features
- **memory.store / recall / search / feedback / delete**ï¼ˆMCP toolsï¼‰
- **Vector + Graph**ï¼šæ„å‘³æ¤œç´¢ï¼‹é–¢ä¿‚ã‚°ãƒ©ãƒ•ï¼ˆäº¤æµå±¥æ­´/ä¾å­˜/é–¢é€£ï¼‰
- **Consolidation**ï¼šçŸ­æœŸâ†’é•·æœŸã®çµ±åˆã€è¦ç´„ãƒ»é‡è¤‡æ’é™¤
- **Connectors**ï¼šGitHub/Calendar/Files/...ï¼ˆé¸æŠçš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ»åŒæœŸï¼‰
- **Export/Import**ï¼šäººè³ªåŒ–ã—ãªã„å¯æ¬ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼ˆJSONL + attachmentsï¼‰

## ğŸš€ Quickstart

### A. Local (Docker)
```bash
docker compose up -d --build
docker compose exec api python -m nmn.scripts.migrate
open http://localhost:8080/docs
```

### B. MCP (Claude Desktop)
```jsonc
// ~/.config/claude/claude_desktop_config.json
{
  "mcpServers": {
    "kagura-memory": {
      "command": "python",
      "args": ["mcp_server.py"],
      "env": { "NMN_API_BASE": "http://localhost:8080" }
    }
  }
}
```

> Kagura CLIã§**è‡ªå‹•ç”Ÿæˆ**ã‚‚å¯èƒ½ï¼ˆ`kagura mcp install`ï¼‰ â€” see Roadmap v3.1.0.

## ğŸ§  Architecture

* Vector: pgvector / FAISS
* Graph: GraphMemoryï¼ˆé–¢ä¿‚ãƒ»äº¤æµå±¥æ­´ï¼‰
* Jobs: RQ/Celeryï¼ˆé…å»¶ãƒ˜ãƒ–æ›´æ–°ã€å¤œé–“çµ±åˆï¼‰
* Security: API keys / OAuth2, RLS, BYOK, audit, deletion logs

## ğŸ”Œ Connectors (opt-in)

* GitHub, Google Calendar, Files, Slack, Notion, ...
* å–å¾—ç¯„å›²/ä¿æŒãƒ«ãƒ¼ãƒ«ã‚’**æ˜ç¤ºè¨­å®š**ã€‚ã„ã¤ã§ã‚‚**ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆï¼†å‰Šé™¤**ã€‚

## ğŸ—º Roadmap

* v4.0 MCPãƒ„ãƒ¼ãƒ«ç®¡ç† & Claudeçµ±åˆè‡ªå‹•åŒ–
* v4.1 Self-hosted API / GraphMemoryå¼·åŒ–
* v4.2+ Cloud SaaS / Team collaboration
```

---

## ğŸ†• è£œè¶³ã‚¢ã‚¤ãƒ‡ã‚¢: Consumer Appæˆ¦ç•¥

### ãªãœã‚³ãƒ³ã‚·ãƒ¥ãƒ¼ãƒãƒ¼ã‚¢ãƒ—ãƒªãŒé‡è¦ã‹

**MCPã®åˆ¶ç´„**:
- ä¸»ã«é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ï¼ˆClaude Desktopã€Cursorç­‰ï¼‰
- ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã¯ã‚¢ã‚¯ã‚»ã‚¹å›°é›£

**ã‚¢ãƒ—ãƒªã®ä¾¡å€¤**:
- App Store/Google Playã§ç™ºè¦‹å¯èƒ½
- éé–‹ç™ºè€…ã§ã‚‚ãƒ¡ãƒ¢ãƒªãƒ¼ç®¡ç†å¯èƒ½
- æ–°å¸‚å ´å‰µé€ : "AI Memory Management"

### 3å±¤ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ æ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Consumer Apps (iOS/Android/Desktop)    â”‚
â”‚  - ãƒ¡ãƒ¢ãƒªãƒ¼ç®¡ç†UI                        â”‚
â”‚  - æ¤œç´¢ãƒ»ãƒ–ãƒ©ã‚¦ã‚¸ãƒ³ã‚°                    â”‚
â”‚  - ã‚°ãƒ©ãƒ•ãƒ“ãƒ¥ãƒ¼ï¼ˆé–¢é€£æ€§å¯è¦–åŒ–ï¼‰           â”‚
â”‚  - çµ±è¨ˆãƒ»ã‚¤ãƒ³ã‚µã‚¤ãƒˆ                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†• Kagura Memory API (REST)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Kagura Core Engine                     â”‚
â”‚  - Memory Manager (3-tier + Graph)      â”‚
â”‚  - RAG (Knowledge Base)                 â”‚
â”‚  - API Server                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†• MCP Protocol
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AI Platforms (via MCP)                 â”‚
â”‚  Claude, ChatGPT, Gemini, Cursor, ...   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ã‚¢ãƒ—ãƒªæ©Ÿèƒ½ã‚¤ãƒ¡ãƒ¼ã‚¸ï¼ˆãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«å¯¾å¿œï¼‰

**Core Features**:
- ğŸ“± **Memory Browser** - ã‚«ãƒ¼ãƒ‰å½¢å¼ã§ãƒ¡ãƒ¢ãƒªãƒ¼è¡¨ç¤º
  - Text + **Attachments preview** ğŸ†•
  - **Image thumbnails**, **audio waveforms**, **PDF pages** ğŸ†•
- ğŸ” **Search & Discovery** - ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯æ¤œç´¢
  - Textæ¤œç´¢ã§**ç”»åƒãƒ»éŸ³å£°ã‚‚ç™ºè¦‹**ï¼ˆv4.1 MVPï¼‰ ğŸ†•
  - **Image similarity search**ï¼ˆv4.2ï¼‰ ğŸ†•
  - **Audio similarity search**ï¼ˆv4.2ï¼‰ ğŸ†•
- ğŸ“¸ **Quick Capture** ğŸ†•
  - **Camera**: ã‚¹ã‚¯ã‚·ãƒ§ã€ãƒ›ãƒ¯ã‚¤ãƒˆãƒœãƒ¼ãƒ‰
  - **Mic**: éŸ³å£°ãƒ¡ãƒ¢ã€ä¼šè­°éŒ²éŸ³
  - **Files**: PDFã€ã‚³ãƒ¼ãƒ‰ã€å‹•ç”»
  - **Share extension**ï¼ˆiOS/Androidï¼‰
- ğŸ•¸ï¸ **Graph View** - é–¢é€£æ€§ã®å¯è¦–åŒ–ï¼ˆNetworkXï¼‰
  - Multimodal nodesè¡¨ç¤º ğŸ†•
- ğŸ“Š **Insights & Stats** - å­¦ç¿’ãƒ‘ã‚¿ãƒ¼ãƒ³ã€ãƒˆãƒ”ãƒƒã‚¯åˆ†æ
  - **Per-modality analytics**ï¼ˆç”»åƒãƒ»éŸ³å£°ãƒ»å‹•ç”»ã®çµ±è¨ˆï¼‰ ğŸ†•
- âœï¸ **Manual Management** - æ‰‹å‹•è¿½åŠ /ç·¨é›†/ã‚¿ã‚°ä»˜ã‘
  - **Attachment editing**ï¼ˆcrop, rotate, trimï¼‰ ğŸ†•
- âš™ï¸ **Settings** - ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã€åŒæœŸã€APIæ¥ç¶š
  - **Modality filters**ï¼ˆæ¤œç´¢å¯¾è±¡ã®é¸æŠï¼‰ ğŸ†•

**Pro Features** (ãƒãƒã‚¿ã‚¤ã‚º):
- ğŸ’ ç„¡åˆ¶é™ãƒ¡ãƒ¢ãƒªãƒ¼ï¼ˆFree: 1,000 memoriesï¼‰
- ğŸ“¦ ç„¡åˆ¶é™ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ï¼ˆFree: 1GB, Pro: 100GBï¼‰ ğŸ†•
- â˜ï¸ Cloud syncï¼ˆè¤‡æ•°ãƒ‡ãƒã‚¤ã‚¹é–“ï¼‰
- ğŸ¬ **Video support**ï¼ˆFree: 5 videos, Pro: unlimitedï¼‰ ğŸ†•
- ğŸ¤– **Advanced AI**ï¼ˆCLIP image search, audio searchï¼‰ ğŸ†•ï¼ˆv4.2ï¼‰
- ğŸ“ˆ Advanced analytics
- ğŸ‘¥ Team sharing

### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ï¼ˆFlutteræ¨å¥¨ï¼‰

**ç†ç”±**:
- iOS/Android/macOS/Windows/Linux å…¨å¯¾å¿œ
- å˜ä¸€ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹
- é«˜é€Ÿã€ãƒã‚¤ãƒ†ã‚£ãƒ–ä¸¦ã¿ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

**æ§‹æˆ**:
```
kagura-app/  (æ–°ãƒªãƒã‚¸ãƒˆãƒª or ã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª)
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ models/       # Memory, Contextç­‰
â”‚   â”œâ”€â”€ services/     # Kagura API client
â”‚   â”œâ”€â”€ screens/      # UI screens
â”‚   â”œâ”€â”€ widgets/      # Reusable components
â”‚   â””â”€â”€ providers/    # State management (Riverpod)
â”œâ”€â”€ ios/
â”œâ”€â”€ android/
â”œâ”€â”€ macos/
â”œâ”€â”€ windows/
â””â”€â”€ linux/
```

### Memory APIè¨­è¨ˆï¼ˆRESTï¼‰

```python
# src/kagura/api/server.py (æ–°è¦)
from fastapi import FastAPI

app = FastAPI()

# Memory CRUD
@app.post("/api/v1/memory")
async def create_memory(key: str, value: str, scope: str): ...

@app.get("/api/v1/memory/{key}")
async def get_memory(key: str, scope: str = "working"): ...

@app.put("/api/v1/memory/{key}")
async def update_memory(key: str, value: str): ...

@app.delete("/api/v1/memory/{key}")
async def delete_memory(key: str): ...

# Search
@app.get("/api/v1/memory/search")
async def search_memory(query: str, scope: str = "all"): ...

# Graph
@app.get("/api/v1/memory/{key}/related")
async def get_related(key: str, depth: int = 2): ...

@app.get("/api/v1/graph")
async def get_full_graph(): ...

# History
@app.get("/api/v1/history")
async def get_history(limit: int = 50): ...

@app.get("/api/v1/insights")
async def get_insights(): ...

# Knowledge (RAG)
@app.post("/api/v1/knowledge/index")
async def index_content(content: str, metadata: dict): ...

@app.get("/api/v1/knowledge/query")
async def query_knowledge(query: str, top_k: int = 5): ...
```

---

## ğŸ“Š æ›´æ–°ã•ã‚ŒãŸãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ï¼ˆãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«çµ±åˆç‰ˆï¼‰

### v4.0.0 - Memory Platform Foundation (2-3 months)
**Focus**: **Text Memory + Graph** åŸºç›¤
**Target**: é–‹ç™ºè€… + ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«ãƒ¦ãƒ¼ã‚¶ãƒ¼

**Phase A: MCPãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆåŒ–**
- [ ] Core refactoringï¼ˆMemoryç‰¹åŒ–ï¼‰
- [ ] MCPãƒ„ãƒ¼ãƒ«ç®¡ç† (#331)
- [ ] Claude Desktopè‡ªå‹•è¨­å®š
- [ ] REST APIå®Ÿè£…ï¼ˆFastAPIï¼‰
- [ ] Documentation rewrite

**Phase B: GraphMemoryçµ±åˆ (#345)**
- [ ] NetworkX integration
- [ ] Node types: user/topic/memory/interaction
- [ ] Edge types: related/depends/learned_from/influences
- [ ] MCP tools: memory.link/query_graph/record_interaction

**Phase C: Consolidation & Export**
- [ ] Short-term â†’ Long-term migration
- [ ] Summarization, deduplication
- [ ] Export/Import (JSONL format)
- [ ] Deletion audit logs

**ãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«æº–å‚™**:
- [ ] Attachments/derived_texts tableè¨­è¨ˆ
- [ ] Worker infrastructureï¼ˆRedis + RQï¼‰
- [ ] S3-compatible storageè¨­å®š

**Launch**:
- [ ] v4.0.0 tag
- [ ] HN/Reddit/Product Hunt announcement
- [ ] Blog post / tutorial

---

### v4.1.0 - Self-hosted API + **Multimodal MVP** (4-6 months)
**Focus**: **Attachments + æ´¾ç”Ÿãƒ†ã‚­ã‚¹ãƒˆæ¤œç´¢** ğŸ†•
**Target**: ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼ + å°è¦æ¨¡ãƒãƒ¼ãƒ 

**Phase D: Self-hosted API**
- [ ] Docker Compose production setup
- [ ] API authentication (API Key/OAuth2)
- [ ] Multi-device sync
- [ ] Connectors: GitHub, Calendar, Files

**Phase E: Multimodal MVP** ğŸ†•
- [ ] **Attachments support**ï¼ˆç”»åƒã€éŸ³å£°ã€PDFã€ã‚³ãƒ¼ãƒ‰ï¼‰
  - S3-compatible storage integration
  - Attachment CRUD API
  - MCP tool: `memory.attach`
- [ ] **Worker pipeline**
  - Caption generationï¼ˆBLIP-2/GPT-4V APIï¼‰
  - OCRï¼ˆTesseract local + Cloud Vision fallbackï¼‰
  - ASRï¼ˆWhisper local + Cloud Speech-to-Text fallbackï¼‰
  - Thumbnail generation
- [ ] **Derived texts storage**
  - derived_texts table
  - Link to original attachments
- [ ] **Text-based multimodal search**
  - æ´¾ç”Ÿãƒ†ã‚­ã‚¹ãƒˆã®embeddingç”Ÿæˆ
  - Textæ¤œç´¢ã§ç”»åƒãƒ»éŸ³å£°ã‚‚ç™ºè¦‹å¯èƒ½
- [ ] **MCP toolsæ‹¡å¼µ**
  - `memory.derive` - On-demandæ´¾ç”Ÿç”Ÿæˆ
  - `memory.recall` - Multimodalçµæœã‚’å«ã‚€

**Phase F: Consumer App (Flutter)**
- [ ] iOS/Android/Desktop appé–‹ç™º
- [ ] **Quick Capture**ï¼ˆcamera, mic, filesï¼‰ ğŸ†•
- [ ] **Attachment preview**ï¼ˆimages, audio player, PDF viewerï¼‰ ğŸ†•
- [ ] Memory Browser UI
- [ ] Graph Viewer
- [ ] Insights dashboard
- [ ] App Store/Google Playå…¬é–‹

**Launch**:
- [ ] v4.1.0 tag
- [ ] Product Hunt (Multimodal Memory App)
- [ ] Demo videoï¼ˆã‚¯ãƒ­ã‚¹ãƒ¢ãƒ¼ãƒ€ãƒ«æ¤œç´¢ï¼‰
- [ ] Blog postï¼ˆ"Beyond Text: Multimodal AI Memory"ï¼‰

---

### v4.2.0 - Cloud + **Full Multimodal** (6-12 months)
**Focus**: **Cross-modal Search + Enterprise** ğŸ†•
**Target**: ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚º + ãƒãƒ¼ãƒ 

**Phase G: Full Multimodal** ğŸ†•
- [ ] **Image Embedding**
  - CLIP / SigLIP integration
  - Image embedding generation worker
  - Image similarity search API
- [ ] **Audio Embedding**
  - Wav2Vec2 or Audio-CLIP
  - Audio embedding generation worker
  - Audio similarity search API
- [ ] **Cross-modal Search**
  - Late fusion scoring
  - MCP tool: `memory.recall_multimodal`
  - `memory.search_by_image` / `memory.search_by_audio`
- [ ] **Video Support**
  - Keyframe extraction
  - Transcription
  - Timeline-based search
- [ ] **Multimodal Analytics**
  - Per-modality insightsï¼ˆç”»åƒãƒ»éŸ³å£°ãƒ»å‹•ç”»ã®çµ±è¨ˆï¼‰
  - Cross-modal relationship visualization

**Phase H: Kagura Cloud (SaaS)**
- [ ] Multi-tenant architecture
- [ ] Row-Level Security (RLS)
- [ ] BYOK (Bring Your Own Key)
- [ ] Audit logs & compliance
- [ ] Team collaboration features
- [ ] Enterprise SSO
- [ ] **Multimodal at scale**ï¼ˆé«˜é€Ÿembeddingç”Ÿæˆã€CDNï¼‰

**Launch**:
- [ ] v4.2.0 tag
- [ ] Beta program
- [ ] Pricing tiersï¼ˆFree/Premium/Enterpriseï¼‰
- [ ] Case studiesï¼ˆ"How Company X uses Kagura for Multimodal Knowledge"ï¼‰
- [ ] Conference talks

---

## ğŸ¯ æˆåŠŸæŒ‡æ¨™ï¼ˆKPIï¼‰

### v4.0ï¼ˆTechnical - Text Foundationï¼‰
- [ ] MCPåˆæœŸè¨­å®šæ™‚é–“: 80%çŸ­ç¸®ï¼ˆ60åˆ† â†’ 10åˆ†ï¼‰
- [ ] Recall@k: 0.9+ï¼ˆTop-5 accuracy, text onlyï¼‰
- [ ] API p95 latency: < 100ms
- [ ] Export/ImportæˆåŠŸç‡: 99%+
- [ ] `kagura mcp doctor`ã§90%ã®å•é¡Œè‡ªå‹•è¨ºæ–­
- [ ] Test coverage: > 90%

### v4.1ï¼ˆUser Adoption + Multimodal MVPï¼‰
- [ ] æœˆé–“ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãƒ¼: 1,000+
- [ ] App Storeè©•ä¾¡: 4.5+
- [ ] GitHub stars: 5,000+
- [ ] ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒã‚¯ã‚¿: 10+ï¼ˆã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£è²¢çŒ®ï¼‰
- [ ] **Multimodal KPI** ğŸ†•:
  - **Attachment uploadæˆåŠŸç‡**: 99%+
  - **Caption/OCR/ASRç”ŸæˆæˆåŠŸç‡**: 95%+
  - **æ´¾ç”Ÿãƒ†ã‚­ã‚¹ãƒˆçµŒç”±ã®ç™ºè¦‹ç‡**: 60%+ï¼ˆç”»åƒãƒ»éŸ³å£°ãŒtextæ¤œç´¢ã§è¦‹ã¤ã‹ã‚‹å‰²åˆï¼‰
  - **Multimodalæ¤œç´¢æº€è¶³åº¦**: NPS 50+

### v4.2ï¼ˆBusiness + Full Multimodalï¼‰
- [ ] Paying customers: 100+
- [ ] MRR: $10,000+
- [ ] Enterprise pilots: 5+
- [ ] Retention rate: 90%+
- [ ] **Multimodal KPI** ğŸ†•:
  - **Cross-modal Recall@k**: 0.85+ï¼ˆtextâ†’image, imageâ†’textï¼‰
  - **Image embeddingç”Ÿæˆæ™‚é–“**: < 500ms/image
  - **Audio embeddingç”Ÿæˆæ™‚é–“**: < 1s/minute of audio
  - **Videoå‡¦ç†æˆåŠŸç‡**: 90%+
  - **Multimodal storage efficiency**: 3,000x+ compressionï¼ˆRewind AIä¸¦ã¿ï¼‰

---

## ğŸ”— é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [V4.0_COMPETITIVE_ANALYSIS.md](./V4.0_COMPETITIVE_ANALYSIS.md) - ç«¶åˆåˆ†æ
- [V4.0_IMPLEMENTATION_ROADMAP.md](./V4.0_IMPLEMENTATION_ROADMAP.md) - å®Ÿè£…è¨ˆç”»
- [V4.0_README_DRAFT.md](./V4.0_README_DRAFT.md) - æ–°READMEè‰æ¡ˆ
- [V4.0_GITHUB_ISSUE_TEMPLATE.md](./V4.0_GITHUB_ISSUE_TEMPLATE.md) - Issueä½œæˆç”¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

**æ—¢å­˜Issueå‚ç…§**:
- [#331: MCP Enhancement Roadmap](https://github.com/JFK/kagura-ai/issues/331)
- [#345: GraphDB Memory Integration](https://github.com/JFK/kagura-ai/issues/345)
- [#348: Neural Memory Research](https://github.com/JFK/kagura-ai/issues/348)

---

## ğŸ’¬ ã‚ªãƒ¼ãƒ—ãƒ³ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³

### æ±ºå®šäº‹é …

**ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**:
- [x] **ãƒªãƒã‚¸ãƒˆãƒªæ§‹æˆ**: **ãƒ¢ãƒãƒ¬ãƒç¶™ç¶š**ï¼ˆ`kagura-ai`ï¼‰âœ…
- [ ] **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ¥ç¶šå…ˆ**: Localå„ªå…ˆ vs Cloudå„ªå…ˆ
- [ ] **MCPãƒ„ãƒ¼ãƒ«å¥‘ç´„v1**: å‡çµã‚¿ã‚¤ãƒŸãƒ³ã‚°
- [ ] **Exportãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ**: JSONL + attachments ã‚¹ã‚­ãƒ¼ãƒ
- [ ] **å‰Šé™¤ãƒãƒªã‚·ãƒ¼**: GDPRæº–æ‹ ã€SLOè¨­å®š

**æ©Ÿèƒ½å„ªå…ˆé †ä½**:
- [ ] **åˆå›ã‚³ãƒã‚¯ã‚¿**: GitHub/Calendar/Files ã§ç¢ºå®š
- [ ] **ã‚¢ãƒ—ãƒªé–‹ç™ºã‚¿ã‚¤ãƒŸãƒ³ã‚°**: v4.1ã§åˆ†é›¢ï¼ˆv4.0ã¯core focusï¼‰
- [x] **ãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«æˆ¦ç•¥**: **æ®µéšçš„å°å…¥** âœ…
  - v4.0: Text + GraphåŸºç›¤
  - v4.1: Multimodal MVPï¼ˆAttachments + æ´¾ç”Ÿãƒ†ã‚­ã‚¹ãƒˆï¼‰
  - v4.2: Full Multimodalï¼ˆCross-modal searchï¼‰

**ãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«è©³ç´°**:
- [ ] **v4.1 Attachments storage**: S3-compatibleï¼ˆMinIO local / S3 cloud / R2ï¼‰
- [ ] **Caption provider**: BLIP-2 local vs GPT-4V API
- [ ] **OCR provider**: Tesseract local + Cloud Vision fallback
- [ ] **ASR provider**: Whisper local + Cloud Speech-to-Text fallback
- [ ] **v4.2 Image Embedding**: CLIP vs SigLIP
- [ ] **v4.2 Audio Embedding**: Wav2Vec2 vs Audio-CLIP

### ãƒªã‚¹ã‚¯

| ãƒªã‚¹ã‚¯ | å¯¾ç­– |
|--------|------|
| Mem0ã¨ã®ç›´æ¥ç«¶åˆ | å·®åˆ¥åŒ–: **Multimodal + Vibe Coding**ã€æ—¥æœ¬èªã€å®Œå…¨OSS |
| Rewind AIã¨ã®ç«¶åˆ ğŸ†• | å·®åˆ¥åŒ–: **MCPå¯¾å¿œ + å…¨ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ** + AIæ¨ªæ–­ |
| MCPä»•æ§˜å¤‰æ›´ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ˜è¨˜ã€å¾Œæ–¹äº’æ›æ€§ä¿è¨¼ |
| ãƒ‡ãƒ¼ã‚¿ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼æ‡¸å¿µ | BYOKã€å®Œå…¨å‰Šé™¤ã€Exportä¿è¨¼ã€**ç”»åƒãƒ»éŸ³å£°ã®æš—å·åŒ–** ğŸ†• |
| Multimodalå®Ÿè£…ã®è¤‡é›‘æ€§ ğŸ†• | **æ®µéšçš„å°å…¥**ï¼ˆMVP â†’ Fullï¼‰ã€æ—¢å­˜å®Ÿè£…æ´»ç”¨ |
| ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚³ã‚¹ãƒˆå¢—å¤§ ğŸ†• | åœ§ç¸®ï¼ˆ3,000xç›®æ¨™ï¼‰ã€S3/R2ä½ã‚³ã‚¹ãƒˆã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼é¸æŠï¼ˆlocal/cloudï¼‰ |
| é–‹ç™ºãƒªã‚½ãƒ¼ã‚¹ä¸è¶³ | ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£è²¢çŒ®ã€æ®µéšçš„ãƒªãƒªãƒ¼ã‚¹ |

### Next Actions

1. ~~**GitHub Issueä½œæˆ**~~ï¼ˆã‚¹ã‚­ãƒƒãƒ—ï¼‰
2. **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°** - å…¨5ãƒ•ã‚¡ã‚¤ãƒ«ã«ãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«æˆ¦ç•¥ã‚’åæ˜  âœ… IN PROGRESS
3. **æŠ€è¡“æ¤œè¨¼** ğŸ†•
   - GPT 5 Proæä¾›ã®zipãƒ•ã‚¡ã‚¤ãƒ«ç¢ºèªãƒ»æ´»ç”¨
   - Caption/OCR/ASR workerã®PoC
   - Attachment storageè¨­è¨ˆï¼ˆS3-compatibleï¼‰
4. **ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯** - HN/Reddit/Discordã§æ¤œè¨¼ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
5. **v4.0.0 Alphaå®Ÿè£…é–‹å§‹** - Text + GraphåŸºç›¤

---

**Created**: 2025-10-25
**Updated**: 2025-10-25ï¼ˆãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«æˆ¦ç•¥è¿½åŠ ï¼‰
**Contributors**: Claude Code, ChatGPT 5 Pro, @jfk
**Status**: ğŸ“‹ Strategic Proposalï¼ˆãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«çµ±åˆç‰ˆï¼‰
