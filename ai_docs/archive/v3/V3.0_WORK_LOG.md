# Kagura AI v3.0 ä½œæ¥­ãƒ­ã‚°

**æœŸé–“**: 2025-10-18  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: v3.0.0  
**ãƒ†ãƒ¼ãƒ**: Personal AI Assistant + SDKåŒ–

---

## ğŸ¯ v3.0ãƒ“ã‚¸ãƒ§ãƒ³

**From**: AI Agent Framework (é–‹ç™ºè€…å‘ã‘)  
**To**: Personal AI Assistant SDK (é–‹ç™ºè€…ï¼‹ã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼)

### ä¸»è¦ã‚³ãƒ³ã‚»ãƒ—ãƒˆ
1. **Chat-First**: `kagura chat` ã§å³åº§ã«ä½¿ãˆã‚‹
2. **SDK-Ready**: `from kagura import daily_news` ã§Pythonã‹ã‚‰ç›´æ¥ä½¿ç”¨
3. **Personalized**: `kagura init` ã§å€‹äººå‘ã‘ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
4. **Real-time**: ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã§ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ä½“é¨“

---

## âœ… 2025-10-18å®Œäº†

### Issue #304: ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã‚µãƒãƒ¼ãƒˆ (PR #305)

**å®Ÿè£…å†…å®¹**:
- ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°
  - Tool execution: éã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚° (é€²æ—è¡¨ç¤º)
  - LLM response: ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚° (Rich.Live + Markdown)
- contextvars ã«ã‚ˆã‚‹ progress callback
- Personal Tools (4å€‹) ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°æœ‰åŠ¹åŒ– (gpt-5-nano)

**æŠ€è¡“è©³ç´°**:
- `@agent(stream=True)` + `.stream()` async generator
- `stream_openai_direct()` - OpenAI Streaming APIçµ±åˆ
- `set_progress_callback()` - contextvars for cross-context updates
- Rich.Liveå‹•çš„Markdownè¡¨ç¤º

**UXæ”¹å–„**:
- ä½“æ„Ÿå¾…ã¡æ™‚é–“: 30-60ç§’ â†’ 2-5ç§’ (90%å‰Šæ¸›)
- é€²æ—å¯è¦–åŒ–: "ğŸ” Search (1/4): ..." 
- `/help` ç°¡æ½”åŒ–: 195è¡Œ â†’ 101è¡Œ (48%å‰Šæ¸›)

**ãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´**:
- `src/kagura/core/decorators.py` (+181)
- `src/kagura/core/llm.py` (+53)
- `src/kagura/core/llm_openai.py` (+275)
- `src/kagura/chat/session.py` (+155 net)
- `src/kagura/agents/*.py` (4 files, stream=True)
- `tests/core/test_agent_streaming.py` (æ–°è¦, 6 tests)

**çµ±è¨ˆ**: +672 insertions, -178 deletions

---

### Issue #306: ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šã‚·ã‚¹ãƒ†ãƒ  (PR #307)

**å®Ÿè£…å†…å®¹**:
- `kagura init` - ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
  - prompt_toolkitä½¿ç”¨ (ãƒãƒ«ãƒãƒã‚¤ãƒˆå®Œå…¨å¯¾å¿œ)
  - Name, Location, Language, Topics, Cuisines
- ConfigManager - Pydantic + JSONæ°¸ç¶šåŒ–
- Personal Toolsè‡ªå‹•ãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚º
  - `{{ user_location }}`, `{{ user_news_topics }}` ç­‰
- Welcomeç”»é¢initä¿ƒé€²ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

**æŠ€è¡“è©³ç´°**:
- `src/kagura/config/manager.py` - UserConfig (Pydantic)
- `src/kagura/cli/init.py` - Interactive CLI (prompt_toolkit)
- Template auto-injection (decorators.py)
- Global config via `get_user_config()`

**UXæ”¹å–„**:
- ã€Œå¤©æ°—ã¯ï¼Ÿã€â†’ è‡ªå‹•çš„ã«ä¿å­˜æ¸ˆã¿locationã‚’ä½¿ç”¨
- ã€Œãƒ‹ãƒ¥ãƒ¼ã‚¹ã€â†’ å¥½ã¿ã®topicså„ªå…ˆ
- ã€Œãƒ¬ã‚·ãƒ”ã€â†’ å¥½ã¿ã®cuisineå„ªå…ˆ
- BSå‰Šé™¤å•é¡Œè§£æ±º (prompt_toolkit)

**ãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´**:
- `src/kagura/config/manager.py` (æ–°è¦, 170è¡Œ)
- `src/kagura/cli/init.py` (æ–°è¦, 165è¡Œ)
- `src/kagura/core/decorators.py` (config injection)
- `src/kagura/chat/session.py` (welcome reminder)
- `src/kagura/agents/*.py` (4 files, templateæ›´æ–°)

**çµ±è¨ˆ**: +452 insertions, -24 deletions

---

## ğŸ“Š ç´¯è¨ˆçµ±è¨ˆ (æœ¬æ—¥)

**Issueå®Œäº†**: 2å€‹ (#304, #306)  
**PRãƒãƒ¼ã‚¸**: 2å€‹ (#305, #307)  
**ã‚³ãƒŸãƒƒãƒˆ**: 5å€‹  
**å¤‰æ›´è¡Œæ•°**: +1,124 / -202 (net +922)  
**æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«**: 4å€‹  
**æ–°è¦ãƒ†ã‚¹ãƒˆ**: 6å€‹ (ã™ã¹ã¦ãƒ‘ã‚¹)

**ä½œæ¥­æ™‚é–“**: ç´„6-8æ™‚é–“

---

## ğŸŠ v3.0é”æˆé …ç›®

### Core Features (å®Œæˆ)
- âœ… @agent decorator with streaming
- âœ… Personal Tools (4å€‹: news, weather, recipes, events)
- âœ… User config system (kagura init)
- âœ… Real-time progress display
- âœ… Multibyte input support

### UX (å¤§å¹…æ”¹å–„)
- âœ… Chat-first experience
- âœ… 90% wait time reduction
- âœ… Personalized responses
- âœ… Tool execution visibility

---

## ğŸ“ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ— (v3.0å®Œæˆ)

### å³åº§å®Ÿæ–½ (ä»Šæ—¥-æ˜æ—¥)
1. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåˆ·æ–° (README, Examples, ai_docs)
2. SDKåŒ– (__init__.py ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ‹¡å¼µ)
3. Issueæ•´ç† (5-10å€‹ã‚¯ãƒ­ãƒ¼ã‚º)

### è¿‘æ—¥ä¸­ (ä»Šé€±)
4. Examplesè¿½åŠ  (streaming, config, personal tools)
5. Integration tests
6. v3.0.0ãƒªãƒªãƒ¼ã‚¹æº–å‚™

---

## ğŸš€ v3.0ãƒ“ã‚¸ãƒ§ãƒ³é”æˆåº¦

**Personal Assistant**: 80% âœ…
- Chatä½“é¨“: å®Œæˆ
- Personalization: å®Œæˆ
- Streaming: å®Œæˆ
- æ®‹ã‚Š: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã€SDK exports

**SDKåŒ–**: 40% ğŸ”„
- Core API: å®Œæˆ
- Personal Tools: å®Œæˆ  
- Exports: æœªå®Œ â† æ¬¡ã®ã‚¿ã‚¹ã‚¯
- Examples: æœªå®Œ â† æ¬¡ã®ã‚¿ã‚¹ã‚¯

**ç›®æ¨™**: **v3.0.0ãƒªãƒªãƒ¼ã‚¹ã¯ä»Šé€±æœ«**

